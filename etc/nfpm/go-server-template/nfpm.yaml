name: "go-server-template"
arch: ""
version: ""
section: "default"
priority: "extra"
maintainer: "David Thorpe <djt@mutablelogic.com>"
description: |
  Plugggable go-server monolith: template
vendor: "mutablelogic.com"
homepage: "https://github.com/mutablelogic/go-server"
depends:
  - go-server-httpserver

contents:
  - src: ./build/template.plugin
    dst: /opt/go-server/plugin/template.plugin
  - src: ./build/text-renderer.plugin
    dst: /opt/go-server/plugin/text-renderer.plugin
  - src: ./build/dir-renderer.plugin
    dst: /opt/go-server/plugin/dir-renderer.plugin
  - src: ./build/markdown-renderer.plugin
    dst: /opt/go-server/plugin/markdown-renderer.plugin
  - src: ./etc/templates/default.tmpl
    dst: /opt/go-server/templates/default.tmpl
    type: config
  - src: ./etc/nfpm/go-server-template/go-server-30-template.yaml
    dst: /opt/go-server/etc/go-server-30-template.yaml
    type: config    

scripts:
  postinstall: ./etc/nfpm/go-server-template/postinstall.deb.sh
  postremove: ./etc/nfpm/go-server-template/postremove.deb.sh
